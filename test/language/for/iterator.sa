class StringIter
  function _init(text)
    this.text = text
  end

  function _next(iter)
    if iter == null then return 0 end
    iter += 1
    if iter >= this.text.length then iter = null end
    return iter
  end

  function _value(iter)
    return this.text[iter]
  end
end

character = []

for c in StringIter("hello")
  list_append(character, c)
end
assert(character == ["h", "e", "l", "l", "o"])