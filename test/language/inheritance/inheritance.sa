
class A
end

class B is A
end

a = A()
print(a)

b = B()
assert((b is B) and (b is A))

assert(B.parent == A)

class Shape
  function display()
    return "${this.name} shape"
  end
end

class Circle is Shape
  function _init(r)
    this.r = r
    this.name = "circle"
  end
  function area()
    return 3.14 * this.r * this.r
  end
end

class Rectangle is Shape
  function _init(w, h)
    this.w = w; this.h = h
    this.name = "rectangle"
  end
  function area()
    return this.w * this.h
  end
end

class Square is Rectangle
  function _init(w)
    # TODO: Currently there is no way of calling super(w, h)
    # so we're setting our this here.
    this.w = w; this.h = w
    this.name = "square"
  end
end

c = Circle(1)
assert(c.display() == "circle shape")
assert(c is Circle)
assert(c is Shape)

r = Rectangle(2, 3)
assert(r is Shape)
assert(r.area() == 6)

s = Square(4)
assert(s is Square)
assert(s is Rectangle)
assert(s is Shape)
assert(s.area() == 16)
